<!DOCTYPE html>
<html lang="ru">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏–µ–º (LMS)">
    
    <title>
        
            Sequence-–¥–∏–∞–≥—Ä–∞–º–º–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫—É—Ä—Å–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ | LMS Documentation
        
    </title>

    
    
    
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose'
        });
    </script>
    
    
    
    <link rel="stylesheet" href="/css/custom.css">
    
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>
    <div class="site-wrapper">
        
        <header class="site-header">
    <div class="header-container">
        <div class="logo">
            <a href="/" class="logo-link">
                <span class="logo-icon">üìö</span>
                <span class="logo-text">LMS Docs</span>
            </a>
        </div>
        
        <nav class="main-nav">
            <ul class="nav-list">
                
                <li class="nav-item ">
                    <a href="/" class="nav-link">
                        –ì–ª–∞–≤–Ω–∞—è
                    </a>
                </li>
                
                <li class="nav-item ">
                    <a href="/public/" class="nav-link">
                        Public
                    </a>
                </li>
                
                <li class="nav-item ">
                    <a href="/admin/" class="nav-link">
                        Admin
                    </a>
                </li>
                
                <li class="nav-item ">
                    <a href="/test/" class="nav-link">
                        Test
                    </a>
                </li>
                
                <li class="nav-item ">
                    <a href="/account/" class="nav-link">
                        –õ–ö
                    </a>
                </li>
                
            </ul>
        </nav>
        
        <button class="mobile-menu-toggle" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
</header>
        
        
        <main class="main-content">
            
<div class="page-content">
    <div class="breadcrumbs">
        <a href="/">–ì–ª–∞–≤–Ω–∞—è</a> 
        
            
                ‚Üí <a href="/account/">Account</a>
            
            
            ‚Üí Sequence-–¥–∏–∞–≥—Ä–∞–º–º–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫—É—Ä—Å–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
        
    </div>
    
    <h1>Sequence-–¥–∏–∞–≥—Ä–∞–º–º–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫—É—Ä—Å–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞</h1>
    
    <div class="content">
        <h2 id="–¥–∏–∞–≥—Ä–∞–º–º–∞-–ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è-—Ç–µ—Å—Ç–∞-–∏-–ø–æ–ª—É—á–µ–Ω–∏—è-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞">–î–∏–∞–≥—Ä–∞–º–º–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞</h2>
<div class="mermaid">
    

sequenceDiagram
    participant Student as –°—Ç—É–¥–µ–Ω—Ç
    participant PA as Personal Account
    participant TS as Testing System
    participant DB as DB (testing_schema)

    Note over Student, DB: –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ: –°—Ç—É–¥–µ–Ω—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ Keycloak, –∏–º–µ–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π JWT —Ç–æ–∫–µ–Ω
    
    Student->>PA: POST /api/personal/tests/{id}/start (—Å JWT –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ)
    Note right of PA: PA —É–∂–µ –∏–º–µ–µ—Ç user_id –∏–∑ JWT<br/>–∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á–µ—Ä–µ–∑ Keycloak
    
    PA->>TS: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ —Å user_id –∏ test_id
    TS->>DB: –°–æ–∑–¥–∞–Ω–∏–µ test_attempt_b (student_id, test_id, status='in_progress')
    DB-->>TS: attempt_id
    TS-->>Student: –¢–µ—Å—Ç –Ω–∞—á–∞—Ç, –≤–æ–ø—Ä–æ—Å—ã
    
    loop –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
        Student->>TS: POST /api/tests/attempt/{id}/answer (—Å JWT)
        TS->>DB: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –≤ attempt_version (JSON)
    end

    Student->>TS: POST /api/tests/attempt/{id}/finish
    TS->>DB: –†–∞—Å—á–µ—Ç –±–∞–ª–ª–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ min_point
    DB-->>TS: –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (points, min_point)
    
    alt –ë–∞–ª–ª >= min_point
        TS->>DB: –°–æ–∑–¥–∞–Ω–∏–µ certificate_b
        DB-->>TS: certificate_id
        TS->>DB: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ test_attempt_b (status='passed', point, certificate_id)
        TS-->>Student: –£—Å–ø–µ—Ö + –¥–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
    else –ë–∞–ª–ª < min_point
        TS->>DB: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ test_attempt_b (status='failed', point)
        TS-->>Student: –¢–µ—Å—Ç –Ω–µ –ø—Ä–æ–π–¥–µ–Ω + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è
    end


</div>

    </div>
    
    
    
    <div class="section-links">
        <h3>–†–∞–∑–¥–µ–ª—ã Account:</h3>
        <div class="section-grid">
            <a href="/account/documentation" class="section-card">
                <span class="icon">üìÑ</span>
                <span class="title">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</span>
                <span class="desc">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞</span>
            </a>
            
            <a href="/account/diagrams/" class="section-card">
                <span class="icon">üìà</span>
                <span class="title">–î–∏–∞–≥—Ä–∞–º–º—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤</span>
                <span class="desc">Flowchart, Sequence, User Journey</span>
            </a>
        </div>
    </div>
    
    
    <div class="navigation">
        
        <a href="//localhost:1313/account/diagrams/user-journey/" class="nav-prev">‚Üê User-journey –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞</a>
        
        
        
        <a href="/account/" class="nav-home">‚Üë –ö —Ä–∞–∑–¥–µ–ª—É Account</a>
        
        
        
        <a href="//localhost:1313/account/diagrams/flowchart/" class="nav-next">Flowchart-–¥–∏–∞–≥—Ä–∞–º–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã LMS ‚Üí</a>
        
    </div>
</div>

        </main>
        
        
        <footer class="site-footer">
    <div class="footer-container">
        <div class="footer-content">
            <p>LMS Documentation ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–æ: <span id="update-date">17.1223.232339</span></p>
            <p class="footer-copyright">¬© 232339 LMS Project. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </div>
</footer>
    </div>
    
    
    <script>
        
        document.addEventListener('DOMContentLoaded', function() {
            const updateDateElement = document.getElementById('update-date');
            if (updateDateElement) {
                const now = new Date();
                const formattedDate = now.toLocaleDateString('ru-RU', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric'
                });
                updateDateElement.textContent = formattedDate;
            }
        });
    </script>
</body>
</html>