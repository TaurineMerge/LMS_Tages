<!DOCTYPE html>
<html lang="ru">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏–µ–º (LMS)">
    
    <title>
        
            Sequence-–¥–∏–∞–≥—Ä–∞–º–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã LMS | LMS Documentation
        
    </title>

    
    
    
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose'
        });
    </script>
    
    
    
    <link rel="stylesheet" href="/css/custom.css">
    
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>
    <div class="site-wrapper">
        
        <header class="site-header">
    <div class="header-container">
        <div class="logo">
            <a href="/" class="logo-link">
                <span class="logo-icon">üìö</span>
                <span class="logo-text">LMS Docs</span>
            </a>
        </div>
        
        <nav class="main-nav">
            <ul class="nav-list">
                
                <li class="nav-item ">
                    <a href="/" class="nav-link">
                        –ì–ª–∞–≤–Ω–∞—è
                    </a>
                </li>
                
                <li class="nav-item ">
                    <a href="/public/" class="nav-link">
                        Public
                    </a>
                </li>
                
                <li class="nav-item ">
                    <a href="/admin/" class="nav-link">
                        Admin
                    </a>
                </li>
                
                <li class="nav-item ">
                    <a href="/test/" class="nav-link">
                        Test
                    </a>
                </li>
                
                <li class="nav-item ">
                    <a href="/account/" class="nav-link">
                        –õ–ö
                    </a>
                </li>
                
            </ul>
        </nav>
        
        <button class="mobile-menu-toggle" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
</header>
        
        
        <main class="main-content">
            
<div class="page-content">
    <div class="breadcrumbs">
        <a href="/">–ì–ª–∞–≤–Ω–∞—è</a> 
        
            
            
            ‚Üí Sequence-–¥–∏–∞–≥—Ä–∞–º–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã LMS
        
    </div>
    
    <h1>Sequence-–¥–∏–∞–≥—Ä–∞–º–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã LMS</h1>
    
    <div class="content">
        <h2 id="–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è-–∏-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
<div class="mermaid">
    

sequenceDiagram
    participant –° as –°—Ç—É–¥–µ–Ω—Ç (–ì–æ—Å—Ç—å)
    participant N as nginx
    participant K as Keycloak
    participant PA as Personal Account (Python)
    participant PS as Public Side (Go)
    participant DB_A as PostgreSQL Auth
    participant DB_L as PostgreSQL LMS
    
    Note over –°,DB_L: –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Keycloak
    –°->>N: POST /auth/register
    N->>K: –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å
    K->>DB_A: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    DB_A-->>K: –£—Å–ø–µ—Ö
    K-->>N: 201 Created + user_id
    N-->>–°: –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
    
    Note over –°,DB_L: –®–∞–≥ 2: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    –°->>N: POST /auth/login (email/password)
    N->>K: –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å
    K->>DB_A: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    DB_A-->>K: –í–∞–ª–∏–¥–Ω—ã
    K->>DB_A: –°–æ–∑–¥–∞–µ—Ç —Å–µ—Å—Å–∏—é –∏ —Ç–æ–∫–µ–Ω—ã
    DB_A-->>K: –£—Å–ø–µ—Ö
    K-->>N: JWT Access + Refresh —Ç–æ–∫–µ–Ω—ã
    N-->>–°: –¢–æ–∫–µ–Ω—ã
    
    Note over –°,DB_L: –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
    –°->>N: GET /api/personal/profile (—Å JWT)
    N->>PA: –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å
    PA->>K: –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç JWT /auth/verify
    K-->>PA: {valid: true, user_id: X, roles: ["student"]}
    PA->>DB_L: –ò—â–µ—Ç student_s –ø–æ user_id
    DB_L-->>PA: –ù–µ –Ω–∞–π–¥–µ–Ω (–ø–µ—Ä–≤—ã–π –≤—Ö–æ–¥)
    PA->>DB_L: –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å student_s
    DB_L-->>PA: –£—Å–ø–µ—Ö (uuid —Å—Ç—É–¥–µ–Ω—Ç–∞)
    PA-->>N: –ü—Ä–æ—Ñ–∏–ª—å —Å—Ç—É–¥–µ–Ω—Ç–∞ —Å avatar=null
    N-->>–°: –ü—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞–Ω
    
    Note over –°,DB_L: –®–∞–≥ 4: –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫—É—Ä—Å–æ–≤
    –°->>N: GET /api/public/courses?visibility=public
    N->>PS: –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å
    PS->>DB_L: SELECT –∏–∑ course_b WHERE visibility='public'
    DB_L-->>PS: –°–ø–∏—Å–æ–∫ –∫—É—Ä—Å–æ–≤
    PS-->>N: JSON —Å –∫—É—Ä—Å–∞–º–∏
    N-->>–°: –ö–∞—Ç–∞–ª–æ–≥ –∫—É—Ä—Å–æ–≤


</div>

    </div>
    
    
    
    <div class="navigation">
        
        <a href="//localhost:1313/glossary/" class="nav-prev">‚Üê </a>
        
        
        
        
        
        <a href="//localhost:1313/er-diagram/" class="nav-next">ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö LMS ‚Üí</a>
        
    </div>
</div>

        </main>
        
        
        <footer class="site-footer">
    <div class="footer-container">
        <div class="footer-content">
            <p>LMS Documentation ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–æ: <span id="update-date">17.1223.23236</span></p>
            <p class="footer-copyright">¬© 23236 LMS Project. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </div>
</footer>
    </div>
    
    
    <script>
        
        document.addEventListener('DOMContentLoaded', function() {
            const updateDateElement = document.getElementById('update-date');
            if (updateDateElement) {
                const now = new Date();
                const formattedDate = now.toLocaleDateString('ru-RU', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric'
                });
                updateDateElement.textContent = formattedDate;
            }
        });
    </script>
</body>
</html>