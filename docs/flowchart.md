***
title: "Flowchart –î–∏–∞–≥—Ä–∞–º–º—ã LMS"
date: $(date +%Y-%m-%d)
***

##–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```mermaid
flowchart TD
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ LMS] --> B{–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –¥–æ—Å—Ç—É–ø–∞}
    
    B --> C[–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø]
    B --> D[–ó–∞—â–∏—â–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø]
    
    %% –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø
    subgraph C [–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø - –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏]
        C1[–ó–∞–ø—Ä–æ—Å –∫ /api/public/*] --> C2[Public Side API]
        C2 --> C3[–¢–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è]
        C3 --> C4{–î–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è}
        C4 --> C5[üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä –∫—É—Ä—Å–æ–≤]
        C4 --> C6[üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä —É—Ä–æ–∫–æ–≤]
        C4 --> C7[‚ùå –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤]
        C4 --> C8[‚ùå –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏]
        C4 --> C9[‚ùå –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ]
    end
    
    %% –ó–∞—â–∏—â–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
    D --> E{–ù–∞–ª–∏—á–∏–µ JWT —Ç–æ–∫–µ–Ω–∞?}
    
    E --> F[‚ùå –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞]
    F --> F1[401 Unauthorized]
    F1 --> F2[–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é]
    
    E --> G[‚úÖ –ï—Å—Ç—å —Ç–æ–∫–µ–Ω]
    G --> H[–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –≤ Keycloak]
    H --> I{–¢–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω?}
    
    I --> J[‚ùå –ù–µ–≤–∞–ª–∏–¥–µ–Ω/–ø—Ä–æ—Å—Ä–æ—á–µ–Ω]
    J --> J1[401 Unauthorized]
    J1 --> J2[–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è]
    
    I --> K[‚úÖ –í–∞–ª–∏–¥–µ–Ω]
    K --> L[–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π –∏–∑ —Ç–æ–∫–µ–Ω–∞]
    L --> M{–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è}
    
    %% –°—Ç—É–¥–µ–Ω—Ç
    M --> N[–†–æ–ª—å: student]
    N --> O[–î–æ—Å—Ç—É–ø –∫ /api/personal/*]
    O --> P{–î–µ–π—Å—Ç–≤–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞}
    P --> Q[‚úÖ –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤]
    P --> R[‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤]
    P --> S[‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏]
    P --> T[‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞]
    P --> U[‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º]
    
    %% –ê–¥–º–∏–Ω/–£—á–∏—Ç–µ–ª—å
    M --> V[–†–æ–ª—å: admin/teacher]
    V --> W[–î–æ—Å—Ç—É–ø –∫ /api/admin/*]
    W --> X{–î–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞}
    X --> Y[‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—Å–æ–≤]
    X --> Z[‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞]
    X --> AA[‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —É—Ä–æ–∫–æ–≤]
    X --> AB[‚úÖ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤]
    X --> AC[‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏]
    X --> AD[‚ùå –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –∫–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç]
    
    %% –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
    M --> AE[–†–æ–ª—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç/–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤]
    AE --> AF[403 Forbidden]
    AF --> AG[–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω]
    
    %% –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è
    classDef public fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef student fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    classDef admin fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef error fill:#ffebee,stroke:#c62828,stroke-width:2px
    classDef success fill:#f1f8e9,stroke:#33691e,stroke-width:1px
    classDef neutral fill:#f5f5f5,stroke:#616161,stroke-width:1px
    
    class C,C1,C2,C3,C4,C5,C6,C7,C8,C9 public
    class N,O,P,Q,R,S,T,U student
    class V,W,X,Y,Z,AA,AB,AC,AD admin
    class F,F1,F2,J,J1,J2,AE,AF,AG error
    class E,G,H,I,K,L,M neutral

```

***

##–î–µ–π—Å—Ç–≤–∏—è –Ω–∞ —Å–∞–π—Ç–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏

```mermaid

flowchart TD
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–π—Ç] --> B{–¢–∏–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?}
    
    B -->|–ì–æ—Å—Ç—å| C[–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ –∫—É—Ä—Å–æ–≤]
    B -->|–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π| D[–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É]
    B -->|–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä| E[–í—Ö–æ–¥ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è]
    
    C --> F[–í—ã–±–æ—Ä –∫—É—Ä—Å–∞]
    F --> G[–ü—Ä–æ—Å–º–æ—Ç—Ä —É—Ä–æ–∫–æ–≤]
    G --> H{–ù—É–∂–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Ç–µ—Å—Ç?}
    H -->|–î–∞| I[–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è]
    H -->|–ù–µ—Ç| Z[–í—ã—Ö–æ–¥]
    
    I --> J[Keycloak: —Å–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏]
    J --> K[Personal Account: —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è]
    
    D --> M[Keycloak: –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è]
    M --> N[JWT —Ç–æ–∫–µ–Ω]
    N --> O[–î–æ—Å—Ç—É–ø –∫ –ª–∏—á–Ω–æ–º—É –∫–∞–±–∏–Ω–µ—Ç—É]
    O --> P{–î–µ–π—Å—Ç–≤–∏–µ?}
    
    P -->|–ü—Ä–æ–π—Ç–∏ —É—Ä–æ–∫–∏| Q[–ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —É—Ä–æ–∫–æ–≤]
    P -->|–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç| R[–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ]
    
    Q --> T[–û—Ç–º–µ—Ç–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö —É—Ä–æ–∫–æ–≤]
    T --> U[–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ Personal Account]
    
    R --> V[–í—ã–±–æ—Ä —Ç–µ—Å—Ç–∞]
    V --> W[–ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤]
    W --> X[–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ Testing System]
    X --> Y{–†–µ–∑—É–ª—å—Ç–∞—Ç?}
    Y -->|–£—Å–ø–µ—à–Ω–æ| S[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞]
    Y -->|–ù–µ—É–¥–∞—á–∞| R
    
    E --> AA[Keycloak: –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞]
    AA --> BB[JWT —Å —Ä–æ–ª—å—é admin]
    BB --> CC[–î–æ—Å—Ç—É–ø –∫ Admin Panel]
    CC --> DD{–î–µ–π—Å—Ç–≤–∏–µ?}
    
    DD -->|–°–æ–∑–¥–∞–Ω–∏–µ| EE{–ß—Ç–æ —Å–æ–∑–¥–∞—Ç—å?}
    DD -->|–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ| FF{–ß—Ç–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å?}
    
    EE -->|–ö—É—Ä—Å| GG[–°–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—Å–∞]
    EE -->|–£—Ä–æ–∫| HH[–°–æ–∑–¥–∞–Ω–∏–µ —É—Ä–æ–∫–∞]
    EE -->|–¢–µ—Å—Ç| II[–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞]
    
    FF -->|–ö—É—Ä—Å| JJ[–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞]
    FF -->|–£—Ä–æ–∫| KK[–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞]
    FF -->|–¢–µ—Å—Ç| LL[–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞]
    
    GG --> MM{–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∫—É—Ä—Å?}
    HH --> NN{–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —É—Ä–æ–∫?}
    II --> OO{–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ç–µ—Å—Ç?}
    
    MM -->|–î–∞| PP[–ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫—É—Ä—Å–∞]
    MM -->|–ù–µ—Ç| QQ[–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫]
    
    NN -->|–î–∞| RR[–ü—É–±–ª–∏–∫–∞—Ü–∏—è —É—Ä–æ–∫–∞]
    NN -->|–ù–µ—Ç| SS[–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫]
    
    OO -->|–î–∞| TT[–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ç–µ—Å—Ç–∞]
    OO -->|–ù–µ—Ç| UU[–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫]
    
    JJ --> VV{–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—É—Ä—Å–∞?}
    KK --> WW{–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —É—Ä–æ–∫–∞?}
    LL --> XX{–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞?}
    
    VV -->|–î–∞| YY[–ü—É–±–ª–∏–∫–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫—É—Ä—Å–∞]
    VV -->|–ù–µ—Ç| ZZ[–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫]
    
    WW -->|–î–∞| AAA[–ü—É–±–ª–∏–∫–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —É—Ä–æ–∫–∞]
    WW -->|–ù–µ—Ç| BBB[–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫]
    
    XX -->|–î–∞| CCC[–ü—É–±–ª–∏–∫–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç–µ—Å—Ç–∞]
    XX -->|–ù–µ—Ç| DDD[–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫]

```