{
  "swagger": "2.0",
  "info": {
    "title": "Education Platform Admin API",
    "description": "API для управления категориями, курсами и уроками",
    "version": "1.0.0"
  },
  "host": "localhost:4000",
  "basePath": "/api/v1",
  "schemes": [
    "http"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "securityDefinitions": {
    "OAuth2": {
      "type": "oauth2",
      "flow": "authorizationCode",
      "authorizationUrl": "http://localhost:8080/realms/teacher/protocol/openid-connect/auth",
      "tokenUrl": "http://localhost:8080/realms/teacher/protocol/openid-connect/token",
      "scopes": {
        "openid": "OpenID Connect scope",
        "profile": "User profile information",
        "email": "User email"
      }
    }
  },
  "security": [
    {
      "OAuth2": [
        "openid",
        "profile",
        "email"
      ]
    }
  ],
  "tags": [
    {
      "name": "Categories",
      "description": "Управление категориями"
    },
    {
      "name": "Courses",
      "description": "Управление курсами"
    },
    {
      "name": "Lessons",
      "description": "Управление уроками"
    }
  ],
  "paths": {
    "/categories": {
      "get": {
        "tags": [
          "Categories"
        ],
        "summary": "Получить список всех категорий",
        "responses": {
          "200": {
            "description": "Успешно получен список категорий",
            "schema": {
              "$ref": "#/definitions/PaginatedCategoriesResponse"
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            }
          }
        }
      },
      "post": {
        "tags": [
          "Categories"
        ],
        "summary": "Создать новую категорию",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CategoryCreate"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Категория успешно создана",
            "schema": {
              "$ref": "#/definitions/CategoryResponse"
            }
          },
          "400": {
            "description": "Неверные данные",
            "schema": {
              "$ref": "#/definitions/ErrorValidationResponse"
            }
          },
          "409": {
            "description": "Категория с таким названием уже существует",
            "schema": {
              "$ref": "#/definitions/ErrorConflictResponse"
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            }
          }
        }
      }
    },
    "/categories/{category_id}": {
      "get": {
        "tags": [
          "Categories"
        ],
        "summary": "Получить категорию по ID",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Категория найдена",
            "schema": {
              "$ref": "#/definitions/CategoryResponse"
            }
          },
          "400": {
            "description": "Неверный формат ID",
            "schema": {
              "$ref": "#/definitions/ErrorInvalidUUIDResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INVALID_UUID",
                  "message": "Invalid category ID format"
                }
              }
            }
          },
          "404": {
            "description": "Категория не найдена",
            "schema": {
              "$ref": "#/definitions/ErrorNotFoundResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "NOT_FOUND",
                  "message": "Category not found"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INTERNAL_SERVER_ERROR",
                  "message": "An unexpected error occurred"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Categories"
        ],
        "summary": "Обновить категорию",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CategoryUpdate"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Категория успешно обновлена",
            "schema": {
              "$ref": "#/definitions/CategoryResponse"
            }
          },
          "400": {
            "description": "Неверные данные",
            "schema": {
              "$ref": "#/definitions/ErrorInvalidUUIDResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INVALID_UUID",
                  "message": "Invalid category ID format"
                }
              }
            }
          },
          "404": {
            "description": "Категория не найдена",
            "schema": {
              "$ref": "#/definitions/ErrorNotFoundResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "NOT_FOUND",
                  "message": "Category not found"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INTERNAL_SERVER_ERROR",
                  "message": "An unexpected error occurred"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Categories"
        ],
        "summary": "Удалить категорию",
        "description": "Нельзя удалить категорию, если есть связанные курсы",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Категория успешно удалена",
            "schema": {
              "$ref": "#/definitions/StatusOnly"
            }
          },
          "400": {
            "description": "Неверный формат ID",
            "schema": {
              "$ref": "#/definitions/ErrorInvalidUUIDResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INVALID_UUID",
                  "message": "Invalid category ID format"
                }
              }
            }
          },
          "404": {
            "description": "Категория не найдена",
            "schema": {
              "$ref": "#/definitions/ErrorNotFoundResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "NOT_FOUND",
                  "message": "Category not found"
                }
              }
            }
          },
          "409": {
            "description": "Есть связанные курсы, удаление невозможно",
            "schema": {
              "$ref": "#/definitions/ErrorConflictResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "CONFLICT",
                  "message": "Category has related courses"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INTERNAL_SERVER_ERROR",
                  "message": "An unexpected error occurred"
                }
              }
            }
          }
        }
      }
    },
    "/categories/{category_id}/courses": {
      "get": {
        "tags": [
          "Categories",
          "Courses"
        ],
        "summary": "Получить курсы категории с пагинацией",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "page",
            "in": "query",
            "type": "integer",
            "default": 1,
            "minimum": 1,
            "description": "Номер страницы"
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer",
            "default": 20,
            "minimum": 1,
            "maximum": 100,
            "description": "Количество элементов на странице"
          },
          {
            "name": "level",
            "in": "query",
            "type": "string",
            "enum": [
              "hard",
              "medium",
              "easy"
            ],
            "description": "Фильтр по уровню сложности"
          },
          {
            "name": "visibility",
            "in": "query",
            "type": "string",
            "enum": [
              "draft",
              "public",
              "private"
            ],
            "description": "Фильтр по видимости"
          }
        ],
        "responses": {
          "200": {
            "description": "Успешно получены курсы категории",
            "schema": {
              "$ref": "#/definitions/PaginatedCoursesResponse"
            }
          },
          "400": {
            "description": "Неверные параметры запроса",
            "schema": {
              "$ref": "#/definitions/ErrorInvalidUUIDResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INVALID_UUID",
                  "message": "Invalid category ID format"
                }
              }
            }
          },
          "404": {
            "description": "Категория не найдена",
            "schema": {
              "$ref": "#/definitions/ErrorNotFoundResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "NOT_FOUND",
                  "message": "Category not found"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INTERNAL_SERVER_ERROR",
                  "message": "An unexpected error occurred"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Courses"
        ],
        "summary": "Создать новый курс в категории",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CourseCreate"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Курс успешно создан",
            "schema": {
              "$ref": "#/definitions/CourseResponse"
            }
          },
          "400": {
            "description": "Неверные данные",
            "schema": {
              "$ref": "#/definitions/ErrorInvalidUUIDResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INVALID_UUID",
                  "message": "Invalid category ID format"
                }
              }
            }
          },
          "404": {
            "description": "Категория не найдена",
            "schema": {
              "$ref": "#/definitions/ErrorNotFoundResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "NOT_FOUND",
                  "message": "Category not found"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INTERNAL_SERVER_ERROR",
                  "message": "An unexpected error occurred"
                }
              }
            }
          }
        }
      }
    },
    "/categories/{category_id}/courses/{course_id}": {
      "get": {
        "tags": [
          "Courses"
        ],
        "summary": "Получить курс по ID в категории",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "course_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Курс найден",
            "schema": {
              "$ref": "#/definitions/CourseResponse"
            }
          },
          "400": {
            "description": "Неверный формат ID",
            "schema": {
              "$ref": "#/definitions/ErrorInvalidUUIDResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INVALID_UUID",
                  "message": "Invalid category ID format"
                }
              }
            }
          },
          "404": {
            "description": "Курс или категория не найдена",
            "schema": {
              "$ref": "#/definitions/ErrorNotFoundResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "NOT_FOUND",
                  "message": "Course not found"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INTERNAL_SERVER_ERROR",
                  "message": "An unexpected error occurred"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Courses"
        ],
        "summary": "Обновить курс в категории",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "course_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CourseUpdate"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Курс успешно обновлен",
            "schema": {
              "$ref": "#/definitions/CourseResponse"
            }
          },
          "400": {
            "description": "Неверные данные",
            "schema": {
              "$ref": "#/definitions/ErrorInvalidUUIDResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INVALID_UUID",
                  "message": "Invalid category ID format"
                }
              }
            }
          },
          "404": {
            "description": "Курс или категория не найдена",
            "schema": {
              "$ref": "#/definitions/ErrorNotFoundResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "NOT_FOUND",
                  "message": "Course not found"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INTERNAL_SERVER_ERROR",
                  "message": "An unexpected error occurred"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Courses"
        ],
        "summary": "Удалить курс из категории",
        "description": "Удаляет курс и все связанные уроки",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "course_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Курс успешно удален",
            "schema": {
              "$ref": "#/definitions/StatusOnly"
            }
          },
          "400": {
            "description": "Неверный формат ID",
            "schema": {
              "$ref": "#/definitions/ErrorInvalidUUIDResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INVALID_UUID",
                  "message": "Invalid category ID format"
                }
              }
            }
          },
          "404": {
            "description": "Курс или категория не найдена",
            "schema": {
              "$ref": "#/definitions/ErrorNotFoundResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "NOT_FOUND",
                  "message": "Course not found"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INTERNAL_SERVER_ERROR",
                  "message": "An unexpected error occurred"
                }
              }
            }
          }
        }
      }
    },
    "/categories/{category_id}/courses/{course_id}/lessons": {
      "get": {
        "tags": [
          "Courses",
          "Lessons"
        ],
        "summary": "Получить уроки курса",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "course_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Успешно получены уроки курса",
            "schema": {
              "$ref": "#/definitions/LessonListResponse"
            }
          },
          "400": {
            "description": "Неверный формат ID",
            "schema": {
              "$ref": "#/definitions/ErrorInvalidUUIDResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INVALID_UUID",
                  "message": "Invalid course ID format"
                }
              }
            }
          },
          "404": {
            "description": "Категория или курс не найдены",
            "schema": {
              "$ref": "#/definitions/ErrorNotFoundResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "NOT_FOUND",
                  "message": "Course not found"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INTERNAL_SERVER_ERROR",
                  "message": "An unexpected error occurred"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Lessons"
        ],
        "summary": "Создать урок в курсе",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "course_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LessonCreate"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Урок успешно создан",
            "schema": {
              "$ref": "#/definitions/LessonResponse"
            }
          },
          "400": {
            "description": "Неверные данные",
            "schema": {
              "$ref": "#/definitions/ErrorInvalidUUIDResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INVALID_UUID",
                  "message": "Invalid course ID format"
                }
              }
            }
          },
          "404": {
            "description": "Категория или курс не найдены",
            "schema": {
              "$ref": "#/definitions/ErrorNotFoundResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "NOT_FOUND",
                  "message": "Course not found"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INTERNAL_SERVER_ERROR",
                  "message": "An unexpected error occurred"
                }
              }
            }
          }
        }
      }
    },
    "/categories/{category_id}/courses/{course_id}/lessons/{lesson_id}": {
      "get": {
        "tags": [
          "Lessons"
        ],
        "summary": "Получить урок по ID",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "course_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "lesson_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Урок найден",
            "schema": {
              "$ref": "#/definitions/LessonResponse"
            }
          },
          "400": {
            "description": "Неверный формат ID",
            "schema": {
              "$ref": "#/definitions/ErrorInvalidUUIDResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INVALID_UUID",
                  "message": "Invalid lesson ID format"
                }
              }
            }
          },
          "404": {
            "description": "Урок, курс или категория не найдены",
            "schema": {
              "$ref": "#/definitions/ErrorNotFoundResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "NOT_FOUND",
                  "message": "Lesson not found"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INTERNAL_SERVER_ERROR",
                  "message": "An unexpected error occurred"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Lessons"
        ],
        "summary": "Обновить урок",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "course_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "lesson_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LessonUpdate"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Урок успешно обновлен",
            "schema": {
              "$ref": "#/definitions/LessonResponse"
            }
          },
          "400": {
            "description": "Неверные данные",
            "schema": {
              "$ref": "#/definitions/ErrorInvalidUUIDResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INVALID_UUID",
                  "message": "Invalid lesson ID format"
                }
              }
            }
          },
          "404": {
            "description": "Урок, курс или категория не найдены",
            "schema": {
              "$ref": "#/definitions/ErrorNotFoundResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "NOT_FOUND",
                  "message": "Lesson not found"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INTERNAL_SERVER_ERROR",
                  "message": "An unexpected error occurred"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Lessons"
        ],
        "summary": "Удалить урок",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "course_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "lesson_id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Урок успешно удален",
            "schema": {
              "$ref": "#/definitions/StatusOnly"
            }
          },
          "400": {
            "description": "Неверный формат ID",
            "schema": {
              "$ref": "#/definitions/ErrorInvalidUUIDResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INVALID_UUID",
                  "message": "Invalid lesson ID format"
                }
              }
            }
          },
          "404": {
            "description": "Урок, курс или категория не найдены",
            "schema": {
              "$ref": "#/definitions/ErrorNotFoundResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "NOT_FOUND",
                  "message": "Lesson not found"
                }
              }
            }
          },
          "500": {
            "description": "Ошибка сервера",
            "schema": {
              "$ref": "#/definitions/ErrorServerErrorResponse"
            },
            "examples": {
              "application/json": {
                "status": "error",
                "error": {
                  "code": "INTERNAL_SERVER_ERROR",
                  "message": "An unexpected error occurred"
                }
              }
            }
          }
        }
      }
    }
  },
  "definitions": {
    "HealthResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "healthy",
          "description": "Статус сервиса"
        },
        "database": {
          "type": "string",
          "example": "connected",
          "description": "Статус подключения к БД"
        },
        "version": {
          "type": "string",
          "example": "1.0.0",
          "description": "Версия API"
        }
      }
    },
    "ErrorResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "error",
          "description": "Статус ответа"
        },
        "error": {
          "type": "object",
          "properties": {
            "code": {
              "type": "string",
              "example": "NOT_FOUND",
              "description": "Код ошибки"
            },
            "message": {
              "type": "string",
              "example": "Resource not found",
              "description": "Описание ошибки"
            }
          }
        }
      }
    },
    "StatusOnly": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "success",
          "description": "Результат выполнения"
        }
      }
    },
    "Pagination": {
      "type": "object",
      "properties": {
        "total": {
          "type": "integer",
          "example": 150,
          "description": "Общее количество элементов"
        },
        "page": {
          "type": "integer",
          "example": 1,
          "description": "Текущая страница"
        },
        "limit": {
          "type": "integer",
          "example": 20,
          "description": "Количество элементов на странице"
        },
        "pages": {
          "type": "integer",
          "example": 8,
          "description": "Общее количество страниц"
        }
      }
    },
    "CategoryResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "success"
        },
        "data": {
          "$ref": "#/definitions/Category",
          "description": "Данные категории"
        }
      }
    },
    "PaginatedCategoriesResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "success"
        },
        "data": {
          "type": "object",
          "properties": {
            "items": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Category"
              },
              "description": "Список категорий"
            },
            "pagination": {
              "$ref": "#/definitions/Pagination"
            }
          }
        }
      }
    },
    "Category": {
      "type": "object",
      "description": "Категория курсов",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "example": "550e8400-e29b-41d4-a716-446655440000",
          "description": "Уникальный идентификатор"
        },
        "title": {
          "type": "string",
          "maxLength": 255,
          "example": "Программирование",
          "description": "Название категории"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "example": "2024-01-15T10:30:00Z",
          "description": "Дата создания"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "example": "2024-01-15T10:30:00Z",
          "description": "Дата обновления"
        }
      }
    },
    "CategoryCreate": {
      "type": "object",
      "required": [
        "title"
      ],
      "properties": {
        "title": {
          "type": "string",
          "maxLength": 255,
          "example": "Программирование",
          "description": "Название категории"
        }
      }
    },
    "CategoryUpdate": {
      "type": "object",
      "properties": {
        "title": {
          "type": "string",
          "maxLength": 255,
          "example": "Программирование и IT",
          "description": "Название категории"
        }
      }
    },
    "Course": {
      "type": "object",
      "description": "Курс",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "example": "660e8400-e29b-41d4-a716-446655440001",
          "description": "Уникальный идентификатор"
        },
        "title": {
          "type": "string",
          "maxLength": 255,
          "example": "Go для начинающих",
          "description": "Название курса"
        },
        "description": {
          "type": "string",
          "example": "Изучите Golang с нуля",
          "description": "Описание курса"
        },
        "level": {
          "type": "string",
          "enum": [
            "hard",
            "medium",
            "easy"
          ],
          "example": "medium",
          "description": "Уровень сложности",
          "default": "medium"
        },
        "category_id": {
          "type": "string",
          "format": "uuid",
          "example": "550e8400-e29b-41d4-a716-446655440000",
          "description": "ID категории"
        },
        "visibility": {
          "type": "string",
          "enum": [
            "draft",
            "public",
            "private"
          ],
          "example": "draft",
          "description": "Видимость курса",
          "default": "draft"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "example": "2024-01-15T11:00:00Z",
          "description": "Дата создания"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "example": "2024-01-15T11:00:00Z",
          "description": "Дата обновления"
        }
      }
    },
    "CourseCreate": {
      "type": "object",
      "required": [
        "title",
        "category_id"
      ],
      "properties": {
        "title": {
          "type": "string",
          "maxLength": 255,
          "example": "Go для начинающих",
          "description": "Название курса"
        },
        "description": {
          "type": "string",
          "example": "Изучите Golang с нуля",
          "description": "Описание курса"
        },
        "level": {
          "type": "string",
          "enum": [
            "hard",
            "medium",
            "easy"
          ],
          "example": "medium",
          "description": "Уровень сложности",
          "default": "medium"
        },
        "category_id": {
          "type": "string",
          "format": "uuid",
          "example": "550e8400-e29b-41d4-a716-446655440000",
          "description": "ID категории"
        },
        "visibility": {
          "type": "string",
          "enum": [
            "draft",
            "public",
            "private"
          ],
          "example": "draft",
          "description": "Видимость курса",
          "default": "draft"
        }
      }
    },
    "CourseUpdate": {
      "type": "object",
      "properties": {
        "title": {
          "type": "string",
          "maxLength": 255,
          "example": "Golang для профессионалов",
          "description": "Название курса"
        },
        "description": {
          "type": "string",
          "example": "Продвинутый курс по Go",
          "description": "Описание курса"
        },
        "level": {
          "type": "string",
          "enum": [
            "hard",
            "medium",
            "easy"
          ],
          "example": "hard",
          "description": "Уровень сложности"
        },
        "category_id": {
          "type": "string",
          "format": "uuid",
          "example": "550e8400-e29b-41d4-a716-446655440000",
          "description": "ID категории"
        },
        "visibility": {
          "type": "string",
          "enum": [
            "draft",
            "public",
            "private"
          ],
          "example": "public",
          "description": "Видимость курса"
        }
      }
    },
    "CourseListResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "success"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Course"
          },
          "description": "Список курсов"
        }
      }
    },
    "PaginatedCoursesResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "success"
        },
        "data": {
          "type": "object",
          "properties": {
            "items": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Course"
              },
              "description": "Список курсов"
            },
            "pagination": {
              "$ref": "#/definitions/Pagination"
            }
          }
        }
      }
    },
    "CourseResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "success"
        },
        "data": {
          "$ref": "#/definitions/Course",
          "description": "Данные курса"
        }
      }
    },
    "LessonDetailed": {
      "type": "object",
      "description": "Урок курса",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "example": "770e8400-e29b-41d4-a716-446655440002",
          "description": "Уникальный идентификатор"
        },
        "title": {
          "type": "string",
          "maxLength": 255,
          "example": "Введение в Go",
          "description": "Название урока"
        },
        "category_id": {
          "type": "string",
          "format": "uuid",
          "example": "550e8400-e29b-41d4-a716-446655440000",
          "description": "ID категории"
        },
        "course_id": {
          "type": "string",
          "format": "uuid",
          "example": "660e8400-e29b-41d4-a716-446655440001",
          "description": "ID курса"
        },
        "content": {
          "type": "object",
          "additionalProperties": true,
          "example": {
            "text": "Go - это язык программирования от Google",
            "video_url": "https://example.com/video.mp4",
            "duration_minutes": 45
          },
          "description": "Содержимое урока в формате JSON"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "example": "2024-01-15T12:00:00Z",
          "description": "Дата создания"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "example": "2024-01-15T12:00:00Z",
          "description": "Дата обновления"
        }
      }
    },
    "Lesson": {
      "type": "object",
      "description": "Краткая информация об уроке без контента",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "example": "770e8400-e29b-41d4-a716-446655440002",
          "description": "Уникальный идентификатор"
        },
        "title": {
          "type": "string",
          "maxLength": 255,
          "example": "Введение в Go",
          "description": "Название урока"
        },
        "category_id": {
          "type": "string",
          "format": "uuid",
          "example": "550e8400-e29b-41d4-a716-446655440000",
          "description": "ID категории"
        },
        "course_id": {
          "type": "string",
          "format": "uuid",
          "example": "660e8400-e29b-41d4-a716-446655440001",
          "description": "ID курса"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "example": "2024-01-15T12:00:00Z",
          "description": "Дата создания"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "example": "2024-01-15T12:00:00Z",
          "description": "Дата обновления"
        }
      }
    },
    "LessonCreate": {
      "type": "object",
      "required": [
        "title"
      ],
      "properties": {
        "title": {
          "type": "string",
          "maxLength": 255,
          "example": "Введение в Go",
          "description": "Название урока"
        },
        "category_id": {
          "type": "string",
          "format": "uuid",
          "example": "550e8400-e29b-41d4-a716-446655440000",
          "description": "ID категории"
        },
        "content": {
          "type": "object",
          "additionalProperties": true,
          "example": {
            "text": "Go - это язык программирования от Google",
            "video_url": "https://example.com/video.mp4",
            "duration_minutes": 45
          },
          "description": "Содержимое урока в формате JSON"
        }
      }
    },
    "LessonUpdate": {
      "type": "object",
      "properties": {
        "title": {
          "type": "string",
          "maxLength": 255,
          "example": "Go: Основы синтаксиса",
          "description": "Название урока"
        },
        "category_id": {
          "type": "string",
          "format": "uuid",
          "example": "550e8400-e29b-41d4-a716-446655440000",
          "description": "ID категории"
        },
        "content": {
          "type": "object",
          "additionalProperties": true,
          "example": {
            "text": "Изучим основные конструкции Go",
            "video_url": "https://example.com/video2.mp4",
            "duration_minutes": 60,
            "slides": [
              "slide1.pdf",
              "slide2.pdf"
            ]
          },
          "description": "Содержимое урока в формате JSON"
        }
      }
    },
    "LessonListResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "success"
        },
        "data": {
          "type": "object",
          "properties": {
            "items": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Lesson"
              },
              "description": "Список уроков"
            },
            "pagination": {
              "$ref": "#/definitions/Pagination"
            }
          }
        }
      }
    },
    "LessonResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "success"
        },
        "data": {
          "$ref": "#/definitions/LessonDetailed",
          "description": "Данные урока"
        }
      }
    },
    "ErrorInvalidUUIDResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "error"
        },
        "error": {
          "type": "object",
          "properties": {
            "code": {
              "type": "string",
              "example": "INVALID_UUID",
              "description": "Неверный формат UUID"
            },
            "message": {
              "type": "string",
              "example": "Invalid ID format",
              "description": "Описание ошибки"
            }
          }
        }
      }
    },
    "ErrorNotFoundResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "error"
        },
        "error": {
          "type": "object",
          "properties": {
            "code": {
              "type": "string",
              "example": "NOT_FOUND",
              "description": "Ресурс не найден"
            },
            "message": {
              "type": "string",
              "example": "Resource not found",
              "description": "Описание ошибки"
            }
          }
        }
      }
    },
    "ErrorServerErrorResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "error"
        },
        "error": {
          "type": "object",
          "properties": {
            "code": {
              "type": "string",
              "example": "SERVER_ERROR",
              "description": "Внутренняя ошибка сервера"
            },
            "message": {
              "type": "string",
              "example": "Internal server error",
              "description": "Описание ошибки"
            }
          }
        }
      }
    },
    "ErrorValidationResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "error"
        },
        "error": {
          "type": "object",
          "properties": {
            "code": {
              "type": "string",
              "example": "VALIDATION_ERROR",
              "description": "Неверные данные запроса"
            },
            "message": {
              "type": "string",
              "example": "Validation failed",
              "description": "Описание ошибки"
            }
          }
        }
      }
    },
    "ErrorConflictResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "example": "error"
        },
        "error": {
          "type": "object",
          "properties": {
            "code": {
              "type": "string",
              "example": "ALREADY_EXISTS",
              "description": "Ресурс уже существует"
            },
            "message": {
              "type": "string",
              "example": "Resource already exists",
              "description": "Описание ошибки"
            }
          }
        }
      }
    }
  }
}