<!-- templates/pages/courses-editor.hbs -->
<div class="editor">
    <div class="editor__header">
        <div>
            <nav class="breadcrumb">
                <a href="/admin/categories">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
                <span class="breadcrumb__separator">/</span>
                <span>{{categoryName}}</span>
            </nav>
            <h1 class="editor__title">–ö—É—Ä—Å—ã: {{categoryName}}</h1>
        </div>
        <a href="/admin/categories/{{categoryID}}/courses/new" class="button button--primary">
            <span class="button__icon">+</span>
            –°–æ–∑–¥–∞—Ç—å –∫—É—Ä—Å
        </a>
    </div>

    {{#if error}}
        <div class="alert alert--error">
            {{error}}
        </div>
    {{/if}}

    {{#if success}}
        <div class="alert alert--success">
            {{success}}
        </div>
    {{/if}}

    {{#if courses}}
        <div class="table-container">
            <table class="table">
                <thead class="table__head">
                    <tr>
                        <th class="table__th">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                        <th class="table__th">–û–ø–∏—Å–∞–Ω–∏–µ</th>
                        <th class="table__th">–£—Ä–æ–≤–µ–Ω—å</th>
                        <th class="table__th">–í–∏–¥–∏–º–æ—Å—Ç—å</th>
                        <th class="table__th">–û–±–Ω–æ–≤–ª–µ–Ω–æ</th>
                        <th class="table__th table__th--actions">–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody class="table__body">
                    {{#each courses}}
                        <tr class="table__row">
                            <td class="table__td table__td--title">
                                <a href="/admin/categories/{{CategoryID}}/courses/{{ID}}/lessons" class="table__link">
                                    {{Title}}
                                </a>
                            </td>
                            <td class="table__td table__td--description">{{Description}}</td>
                            <td class="table__td">
                                <span class="badge badge--{{Level}}">{{Level}}</span>
                            </td>
                            <td class="table__td">
                                {{#if Visible}}
                                    <span class="badge badge--success">‚úì –í–∏–¥–µ–Ω</span>
                                {{else}}
                                    <span class="badge badge--secondary">‚úó –°–∫—Ä—ã—Ç</span>
                                {{/if}}
                            </td>
                            <td class="table__td">{{UpdatedAt}}</td>
                            <td class="table__td table__td--actions">
                                <div class="table__actions">
                                    <a href="/admin/categories/{{CategoryID}}/courses/{{ID}}/lessons" class="table__action table__action--view" title="–£—Ä–æ–∫–∏">
                                        üìö
                                    </a>
                                    <a href="/admin/categories/{{CategoryID}}/courses/{{ID}}/edit" class="table__action table__action--edit" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                                        ‚úèÔ∏è
                                    </a>
                                    <form method="POST" action="/admin/categories/{{CategoryID}}/courses/{{ID}}/delete" class="table__action-form" onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫—É—Ä—Å?');">
                                        <button type="submit" class="table__action table__action--delete" title="–£–¥–∞–ª–∏—Ç—å">
                                            üóëÔ∏è
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    {{else}}
        <div class="empty-state">
            <div class="empty-state__icon">üìö</div>
            <h2 class="empty-state__title">–ù–µ—Ç –∫—É—Ä—Å–æ–≤</h2>
            <p class="empty-state__text">–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –∫—É—Ä—Å –¥–ª—è —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</p>
            <a href="/admin/categories/{{categoryID}}/courses/new" class="button button--primary">
                –°–æ–∑–¥–∞—Ç—å –∫—É—Ä—Å
            </a>
        </div>
    {{/if}}
</div>
