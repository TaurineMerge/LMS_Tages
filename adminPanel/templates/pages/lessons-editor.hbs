<!-- templates/pages/lessons-editor.hbs -->
<div class="editor">
    <div class="editor__header">
        <div>
            <nav class="breadcrumb">
                <a href="/admin/categories">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
                <span class="breadcrumb__separator">/</span>
                <a href="/admin/categories/{{categoryID}}/courses">{{categoryName}}</a>
                <span class="breadcrumb__separator">/</span>
                <span>{{courseName}}</span>
            </nav>
            <h1 class="editor__title">–£—Ä–æ–∫–∏: {{courseName}}</h1>
        </div>
        <a href="/admin/categories/{{categoryID}}/courses/{{courseID}}/lessons/new" class="button button--primary">
            <span class="button__icon">+</span>
            –°–æ–∑–¥–∞—Ç—å —É—Ä–æ–∫
        </a>
    </div>

    {{#if error}}
        <div class="alert alert--error">
            {{error}}
        </div>
    {{/if}}

    {{#if success}}
        <div class="alert alert--success">
            {{success}}
        </div>
    {{/if}}

    {{#if lessons}}
        <div class="table-container">
            <table class="table">
                <thead class="table__head">
                    <tr>
                        <th class="table__th">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                        <th class="table__th">–°–æ–∑–¥–∞–Ω–æ</th>
                        <th class="table__th">–û–±–Ω–æ–≤–ª–µ–Ω–æ</th>
                        <th class="table__th table__th--actions">–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody class="table__body">
                    {{#each lessons}}
                        <tr class="table__row">
                            <td class="table__td table__td--title">{{Title}}</td>
                            <td class="table__td">{{CreatedAt}}</td>
                            <td class="table__td">{{UpdatedAt}}</td>
                            <td class="table__td table__td--actions">
                                <div class="table__actions">
                                    <a href="/admin/categories/{{../categoryID}}/courses/{{../courseID}}/lessons/{{ID}}/edit" class="table__action table__action--edit" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                                        ‚úèÔ∏è
                                    </a>
                                    <form method="POST" action="/admin/categories/{{../categoryID}}/courses/{{../courseID}}/lessons/{{ID}}/delete" class="table__action-form" onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —É—Ä–æ–∫?');">
                                        <button type="submit" class="table__action table__action--delete" title="–£–¥–∞–ª–∏—Ç—å">
                                            üóëÔ∏è
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    {{else}}
        <div class="empty-state">
            <div class="empty-state__icon">üìù</div>
            <h2 class="empty-state__title">–ù–µ—Ç —É—Ä–æ–∫–æ–≤</h2>
            <p class="empty-state__text">–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π —É—Ä–æ–∫ –¥–ª—è —ç—Ç–æ–≥–æ –∫—É—Ä—Å–∞</p>
            <a href="/admin/categories/{{categoryID}}/courses/{{courseID}}/lessons/new" class="button button--primary">
                –°–æ–∑–¥–∞—Ç—å —É—Ä–æ–∫
            </a>
        </div>
    {{/if}}
</div>
