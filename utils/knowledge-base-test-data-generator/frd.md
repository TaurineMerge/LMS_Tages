# Функциональные требования: Утилита для генерации тестовых данных

## 1. Общее назначение

Утилита представляет собой консольное приложение на языке Go, предназначенное для автоматической генерации SQL-файла с тестовыми данными для базы данных `knowledge_base`. Для создания текстового контента (названий, описаний) используется интеграция с локально запущенным инстансом Ollama.

## 2. Конфигурация

Утилита должна настраиваться через конфигурационный файл или аргументы командной строки.

### Параметры конфигурации:

*   `output`: Имя и путь для выходного `.sql` файла.
*   `categories_count`: Количество генерируемых категорий. Поддерживается как точное число (`5`), так и диапазон (`2:6`), из которого будет выбрано случайное значение.
*   `courses_count`: Количество курсов для каждой категории. Также поддерживает точное число или диапазон.
*   `lessons_count`: Количество уроков для каждого курса. Поддерживает точное число или диапазон.
*   `content_count`: Количество блоков контента (пока только текстовых) для каждого урока. Поддерживает точное число или диапазон.

## 3. Логика генерации данных

Процесс генерации разделяется на две части: творческую (Ollama) и структурную (Go-утилита).

### 3.1. Генерация контента (Ollama)

Внешний сервис Ollama отвечает за создание уникального и осмысленного текстового наполнения для следующих полей:

*   Названия категорий
*   Названия курсов
*   Описания курсов
*   Названия уроков
*   Текстовое содержимое блоков контента (`content_type: 'text'`)

### 3.2 Генерация структурных данных (Утилита на Go)

Утилита отвечает за всю логическую и структурную часть данных:

*   **Количество и иерархия:** Обработка циклов в соответствии с заданными `..._count` параметрами для создания иерархии "категория -> курс -> урок".
*   **UUID и связи:** Генерация всех ID в соответствии с заданным форматом. Утилита отслеживает созданные ID для корректной установки внешних ключей (`category_id` в курсах, `course_id` в уроках).
*   **Даты и время:** Генерация реалистичных и хронологически последовательных `created_at` и `updated_at`. Урок не может быть создан раньше курса, а курс — раньше своей категории.
*   **Перечисляемые значения (Enums):** Случайный выбор из предопределенного списка для полей `level` (`easy`, `medium`, `hard`) и `visibility` (`public`, `draft`).
*   **Формирование SQL:** Сборка всех данных (полученных от Ollama и сгенерированных утилитой) в корректные SQL `INSERT` запросы.

## 4. Специфические требования

*   **Формат UUID:** ID должны генерироваться по шаблону, включающему номера-идентификаторы сущностей для упрощения отслеживания. Примерный формат: `<номер категории>-<номер курса>-4000-8000-<номер урока>`.
*   **Генерация времени:** Даты не должны быть текущими, а должны генерироваться в правдоподобной последовательности.

## 5. Выходной файл

Результатом работы утилиты должен быть один `.sql` файл, содержащий последовательность `INSERT` запросов, готовых к выполнению в базе данных PostgreSQL.
