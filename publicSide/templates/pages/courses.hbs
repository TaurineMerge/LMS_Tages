{{#with Context}}
{{> partials/page-header PageHeader}}

<div class="courses">
    <div class="courses__header">
        <h2 class="courses__subtitle">
            {{#if Courses}}
                –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫—É—Ä—Å—ã ({{Pagination.Total}})
            {{else}}
                –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫—É—Ä—Å–æ–≤
            {{/if}}
        </h2>
        <div class="courses__filters">
            <form method="GET" action="{{Pagination.BaseUrl}}" class="filters-form">
                <div class="filter-group">
                    <label for="level-filter">–°–ª–æ–∂–Ω–æ—Å—Ç—å:</label>
                    <select name="level" id="level-filter" onchange="this.form.submit()">
                        <option value="all" {{#if (streq Level "all")}}selected{{/if}}>–í—Å–µ —É—Ä–æ–≤–Ω–∏</option>
                        <option value="easy" {{#if (streq Level "easy")}}selected{{/if}}>–õ–µ–≥–∫–∏–π</option>
                        <option value="medium" {{#if (streq Level "medium")}}selected{{/if}}>–°—Ä–µ–¥–Ω–∏–π</option>
                        <option value="hard" {{#if (streq Level "hard")}}selected{{/if}}>–°–ª–æ–∂–Ω—ã–π</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="sort-filter">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                    <select name="sort_by" id="sort-filter" onchange="this.form.submit()">
                        <option value="-updated_at" {{#if (streq SortBy "-updated_at")}}selected{{/if}}>–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                        <option value="updated_at" {{#if (streq SortBy "updated_at")}}selected{{/if}}>–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>
                    </select>
                </div>
                <input type="hidden" name="page" value="1">
                <input type="hidden" name="limit" value="{{Pagination.Limit}}">
            </form>
        </div>
    </div>

    {{#if Courses}}
        <div class="courses__grid">
            {{#each Courses}}
                {{> partials/course-card this}}
            {{/each}}
        </div>

        <div class="courses__pagination">
            {{> partials/pagination Pagination }}
        </div>
    {{else}}
        <div class="empty-state">
            <div class="empty-state__icon">üì≠</div>
            <h2 class="empty-state__title">–ö—É—Ä—Å—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h2>
            <p class="empty-state__text">–í —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–∫–∞ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫—É—Ä—Å–æ–≤.</p>
        </div>
    {{/if}}
</div>
{{/with}}
