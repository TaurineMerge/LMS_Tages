# Database Configuration
DATABASE_HOST=app-db
DATABASE_PORT=5432
DATABASE_NAME=appdb
DATABASE_USER=appuser
DATABASE_PASSWORD=password
DATABASE_POOL_MIN_SIZE=5
DATABASE_POOL_MAX_SIZE=20
DEBUG=false

# Environment
ENVIRONMENT=development

# API
API_PREFIX=/api/v1

# Keycloak Configuration
# SERVER_URL - для backend-to-backend запросов (внутри Docker network)
# ВАЖНО: нужен trailing slash для python-keycloak библиотеки!
KEYCLOAK_SERVER_URL=http://keycloak:8080/auth/
# PUBLIC_URL - для браузера (через nginx proxy)
KEYCLOAK_PUBLIC_URL=http://localhost/auth
KEYCLOAK_REALM=student
KEYCLOAK_ADMIN_REALM=teacher
KEYCLOAK_CLIENT_ID=student-client
KEYCLOAK_CLIENT_SECRET=STUDENT_SECRET
KEYCLOAK_REDIRECT_URI=http://localhost/account/callback
KEYCLOAK_ADMIN_USERNAME=admin
KEYCLOAK_ADMIN_PASSWORD=admin
KEYCLOAK_DEFAULT_SCOPE=openid profile email
KEYCLOAK_USER_EMAIL_VERIFIED_DEFAULT=true

# OpenTelemetry Configuration
OTEL_SERVICE_NAME=personal-account-api
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
OTEL_EXPORTER_OTLP_INSECURE=true
OTEL_TRACES_SAMPLER_ARG=1.0
OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT=128
OTEL_SPAN_EVENT_COUNT_LIMIT=128
OTEL_SPAN_LINK_COUNT_LIMIT=128
OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT=4096
OTEL_EXPORTER_OTLP_TIMEOUT=30000
OTEL_BSP_MAX_EXPORT_BATCH_SIZE=512
OTEL_BSP_SCHEDULE_DELAY=5000
OTEL_BSP_MAX_QUEUE_SIZE=2048
OTEL_ENABLE_CONSOLE_EXPORTER=false
OTEL_ENABLE_LOGGING=true
OTEL_ENABLE_SQLALCHEMY=true
OTEL_ENABLE_HTTPX=true
OTEL_EXCLUDED_URLS=/health,/metrics
